{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends2 = require('babel-runtime/helpers/extends');\n\nvar _extends3 = _interopRequireDefault(_extends2);\n\nvar _regenerator = require('babel-runtime/regenerator');\n\nvar _regenerator2 = _interopRequireDefault(_regenerator);\n\nvar _asyncToGenerator2 = require('babel-runtime/helpers/asyncToGenerator');\n\nvar _asyncToGenerator3 = _interopRequireDefault(_asyncToGenerator2);\n\nvar _getPrototypeOf = require('babel-runtime/core-js/object/get-prototype-of');\n\nvar _getPrototypeOf2 = _interopRequireDefault(_getPrototypeOf);\n\nvar _classCallCheck2 = require('babel-runtime/helpers/classCallCheck');\n\nvar _classCallCheck3 = _interopRequireDefault(_classCallCheck2);\n\nvar _createClass2 = require('babel-runtime/helpers/createClass');\n\nvar _createClass3 = _interopRequireDefault(_createClass2);\n\nvar _possibleConstructorReturn2 = require('babel-runtime/helpers/possibleConstructorReturn');\n\nvar _possibleConstructorReturn3 = _interopRequireDefault(_possibleConstructorReturn2);\n\nvar _inherits2 = require('babel-runtime/helpers/inherits');\n\nvar _inherits3 = _interopRequireDefault(_inherits2);\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Composer = require('./Composer');\n\nvar _Composer2 = _interopRequireDefault(_Composer);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar SayButton = function (_React$Component) {\n  (0, _inherits3.default)(SayButton, _React$Component);\n\n  function SayButton(props) {\n    (0, _classCallCheck3.default)(this, SayButton);\n\n    var _this = (0, _possibleConstructorReturn3.default)(this, (SayButton.__proto__ || (0, _getPrototypeOf2.default)(SayButton)).call(this, props));\n\n    _this.handleClick = _this.handleClick.bind(_this);\n    _this.state = {\n      busy: false,\n      id: Date.now() + Math.random()\n    };\n    return _this;\n  }\n\n  (0, _createClass3.default)(SayButton, [{\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.props.context.cancel(this.state.id);\n    }\n  }, {\n    key: 'handleClick',\n    value: function handleClick() {\n      var _this2 = this;\n\n      var props = this.props,\n          state = this.state;\n      props.onClick && props.onClick(event);\n      this.setState(function () {\n        return {\n          busy: true\n        };\n      }, (0, _asyncToGenerator3.default)(\n      /*#__PURE__*/\n      _regenerator2.default.mark(function _callee() {\n        return _regenerator2.default.wrap(function _callee$(_context) {\n          while (1) {\n            switch (_context.prev = _context.next) {\n              case 0:\n                _context.next = 2;\n                return props.context.speak({\n                  id: state.id,\n                  lang: props.lang,\n                  onBoundary: props.onBoundary,\n                  onEnd: props.onEnd,\n                  onError: props.onError,\n                  onStart: props.onStart,\n                  pitch: props.pitch,\n                  rate: props.rate,\n                  text: props.speak,\n                  voice: props.voice,\n                  volume: props.volume\n                });\n\n              case 2:\n                _this2.setState(function () {\n                  return {\n                    busy: false\n                  };\n                });\n\n              case 3:\n              case 'end':\n                return _context.stop();\n            }\n          }\n        }, _callee, _this2);\n      })));\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _props = this.props,\n          children = _props.children,\n          disabled = _props.disabled,\n          busy = this.state.busy;\n      return _react2.default.createElement('button', {\n        disabled: typeof disabled === 'boolean' ? disabled : busy,\n        onClick: this.handleClick\n      }, children);\n    }\n  }]);\n  return SayButton;\n}(_react2.default.Component);\n\nvar SayButtonWithContext = function SayButtonWithContext(props) {\n  return _react2.default.createElement(_Composer2.default, {\n    speechSynthesis: props.speechSynthesis,\n    speechSynthesisUtterance: props.speechSynthesisUtterance\n  }, function (context) {\n    return _react2.default.createElement(SayButton, (0, _extends3.default)({\n      context: context\n    }, props));\n  });\n};\n\nSayButtonWithContext.propTypes = {\n  lang: _propTypes2.default.string,\n  onBoundary: _propTypes2.default.func,\n  onEnd: _propTypes2.default.func,\n  onError: _propTypes2.default.func,\n  onStart: _propTypes2.default.func,\n  pitch: _propTypes2.default.number,\n  rate: _propTypes2.default.number,\n  speak: _propTypes2.default.string,\n  voice: _propTypes2.default.oneOfType([_propTypes2.default.any, _propTypes2.default.func]),\n  volume: _propTypes2.default.number\n};\nexports.default = SayButtonWithContext;","map":null,"metadata":{},"sourceType":"script"}